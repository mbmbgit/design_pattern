<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gitãƒ–ãƒ©ãƒ³ãƒãƒ¢ãƒ‡ãƒ«å®Œå…¨ã‚¬ã‚¤ãƒ‰</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Noto Sans JP', sans-serif; background-color: #f8fafc; color: #1e293b; }
        
        /* Chart Container Utilities */
        .chart-container { position: relative; width: 100%; max-width: 500px; margin: 0 auto; height: 350px; }
        
        /* CSS-based Branch Visualization (NO SVG) */
        .branch-viz { position: relative; height: 140px; width: 100%; background-color: #f1f5f9; border-radius: 0.5rem; overflow: hidden; margin-bottom: 1rem; border: 1px solid #e2e8f0; }
        .track { position: absolute; height: 4px; border-radius: 2px; width: 90%; left: 5%; z-index: 1; }
        .node { position: absolute; width: 14px; height: 14px; border-radius: 50%; border: 3px solid white; z-index: 10; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .label-tag { position: absolute; padding: 2px 8px; border-radius: 9999px; color: white; font-size: 0.65rem; font-weight: bold; z-index: 5; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }

        /* Git-flow Styles */
        .gf-master { top: 20px; background-color: #e11d48; } /* Rose 600 */
        .gf-release { top: 55px; background-color: #f59e0b; } /* Amber 500 */
        .gf-develop { top: 90px; background-color: #3b82f6; } /* Blue 500 */
        
        /* GitHub Flow Styles */
        .gh-main { top: 40px; background-color: #4f46e5; } /* Indigo 600 */
        .gh-feat { top: 90px; background-color: #94a3b8; width: 60%; left: 20%; } /* Slate 400 */

        /* GitLab Flow Styles */
        .gl-prod { top: 20px; background-color: #ef4444; } /* Red 500 */
        .gl-pre { top: 60px; background-color: #0ea5e9; } /* Sky 500 */
        .gl-main { top: 100px; background-color: #4f46e5; } /* Indigo 600 */
    </style>
    <!--
    SUMMARY OF VISUALIZATIONS & STRUCTURE:
    1. Introduction: Concept definition (Git vs Models).
    2. Comparison Radar Chart (Chart.js): Compares Strictness, Speed, Complexity.
    3. Model Cards:
       - Git-flow: CSS visualization showing Master/Release/Develop lines.
       - GitHub Flow: CSS visualization showing Main/Feature lines.
       - GitLab Flow: CSS visualization showing Prod/Pre-prod/Main lines.
    4. Decision Matrix (Plotly ScatterGL): Release Frequency vs Strictness bubble chart.
    
    CONFIRMATION:
    - NO Mermaid JS.
    - NO SVG tags (Charts use Canvas/WebGL, Diagrams use CSS).
    -->
</head>
<body class="antialiased">

    <!-- Header -->
    <header class="bg-gradient-to-r from-slate-900 to-slate-800 text-white py-12 px-4 shadow-xl border-b-4 border-indigo-500">
        <div class="container mx-auto max-w-5xl text-center">
            <h1 class="text-3xl md:text-5xl font-black mb-4 tracking-tight">Gitãƒ–ãƒ©ãƒ³ãƒãƒ¢ãƒ‡ãƒ«<br><span class="text-indigo-400">å›³è§£ã‚¬ã‚¤ãƒ‰</span></h1>
            <p class="text-lg md:text-xl text-slate-300 font-bold max-w-2xl mx-auto">
                ã€Œã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã€ã§ã¯ãªãã€Œãƒ«ãƒ¼ãƒ«ã€ã‚’é¸ã¶ã€‚<br>
                ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ€§è³ªã«åˆã‚ã›ãŸæœ€é©ãªé–‹ç™ºãƒ•ãƒ­ãƒ¼ã®é¸å®šã€‚
            </p>
        </div>
    </header>

    <main class="container mx-auto max-w-5xl px-4 py-12 space-y-16">

        <!-- 1. Analogy Section -->
        <section class="bg-white rounded-2xl shadow-sm border border-slate-200 p-8">
            <div class="flex flex-col md:flex-row items-center gap-8">
                <div class="flex-1 space-y-4">
                    <h2 class="text-2xl font-bold text-slate-800 border-l-8 border-indigo-500 pl-4">1. é“å…·ã¨ãƒ«ãƒ¼ãƒ«ã®é•ã„</h2>
                    <p class="text-slate-600 leading-relaxed">
                        çµè«–ã‹ã‚‰è¨€ã†ã¨ã€ã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’æ¡ç”¨ã—ã¦ã‚‚ä½¿ç”¨ã™ã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã¯ã™ã¹ã¦åŒã˜<strong>ã€ŒGitã€</strong>ã§ã™ã€‚
                        é•ã„ã¯ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã§ã¯ãªãã€<strong>ã€Œé‹ç”¨ãƒ«ãƒ¼ãƒ«ï¼ˆåˆ‡ã‚Šæ–¹ï¼‰ã€</strong>ã«ã‚ã‚Šã¾ã™ã€‚
                    </p>
                    <div class="grid grid-cols-2 gap-4 mt-6">
                        <div class="bg-slate-50 p-4 rounded-xl text-center border border-slate-100">
                            <div class="text-4xl mb-2">ğŸ”ª</div>
                            <h3 class="font-bold text-slate-700">Git</h3>
                            <p class="text-xs text-slate-500">åŒ…ä¸ï¼ˆé“å…·ï¼‰</p>
                        </div>
                        <div class="bg-slate-50 p-4 rounded-xl text-center border border-slate-100">
                            <div class="text-4xl mb-2">ğŸ¥—</div>
                            <h3 class="font-bold text-slate-700">Branch Model</h3>
                            <p class="text-xs text-slate-500">åˆ‡ã‚Šæ–¹ï¼ˆãƒ«ãƒ¼ãƒ«ï¼‰</p>
                        </div>
                    </div>
                </div>
                <div class="flex-1 w-full flex flex-col items-center">
                    <h3 class="font-bold text-slate-600 mb-2 text-sm uppercase tracking-wide">ãƒ¢ãƒ‡ãƒ«ç‰¹æ€§æ¯”è¼ƒãƒ¬ãƒ¼ãƒ€ãƒ¼</h3>
                    <div class="chart-container">
                        <canvas id="radarChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. Detailed Models Section -->
        <section>
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-slate-800">2. 3ã¤ã®ä»£è¡¨çš„ãƒ¢ãƒ‡ãƒ«</h2>
                <p class="text-slate-500 mt-2">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦æ¨¡ã¨ãƒªãƒªãƒ¼ã‚¹é »åº¦ã«å¿œã˜ã¦é¸æŠã—ã¾ã™</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                
                <!-- Git-flow -->
                <div class="bg-white rounded-xl shadow-lg border-t-8 border-rose-600 flex flex-col overflow-hidden">
                    <div class="p-6 flex-grow">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold text-rose-600">â‘  Git-flow</h3>
                            <span class="bg-rose-100 text-rose-800 text-xs font-bold px-2 py-1 rounded">è¶…æ…é‡</span>
                        </div>
                        
                        <!-- CSS Diagram -->
                        <div class="branch-viz">
                            <!-- Master Line -->
                            <div class="track gf-master"></div>
                            <div class="label-tag bg-rose-600" style="top:4px; left:2%;">Master</div>
                            <div class="node bg-rose-600" style="top:15px; left:90%;"></div>
                            
                            <!-- Release Line -->
                            <div class="track gf-release" style="width:30%; left:60%;"></div>
                            <div class="label-tag bg-amber-500" style="top:40px; left:60%;">Release</div>
                            
                            <!-- Develop Line -->
                            <div class="track gf-develop"></div>
                            <div class="label-tag bg-blue-500" style="top:75px; left:2%;">Develop</div>
                            <div class="node bg-blue-500" style="top:85px; left:20%;"></div>
                            <div class="node bg-blue-500" style="top:85px; left:50%;"></div>
                        </div>

                        <p class="text-sm text-slate-600 mb-4 font-medium">ç‰¹å¾´: å³æ ¼ã§è¤‡é›‘</p>
                        <p class="text-xs text-slate-500 leading-relaxed mb-4">
                            ã€Œé–‹ç™ºç”¨ã€ã¨ã€Œæœ¬ç•ªç”¨ã€ã‚’å®Œå…¨ã«åˆ†é›¢ã€‚ãƒªãƒªãƒ¼ã‚¹æº–å‚™æœŸé–“ã‚’çµŒã¦å…¬é–‹ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã€‚
                        </p>
                        <div class="bg-rose-50 p-3 rounded text-xs text-rose-900 font-bold">
                            ğŸ¯ å®šæœŸãƒªãƒªãƒ¼ã‚¹ãŒæ±ºã¾ã£ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªãƒ»é‡‘èç³»
                        </div>
                    </div>
                </div>

                <!-- GitHub Flow -->
                <div class="bg-white rounded-xl shadow-lg border-t-8 border-indigo-600 flex flex-col overflow-hidden">
                    <div class="p-6 flex-grow">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold text-indigo-600">â‘¡ GitHub Flow</h3>
                            <span class="bg-indigo-100 text-indigo-800 text-xs font-bold px-2 py-1 rounded">è¶…é«˜é€Ÿ</span>
                        </div>

                        <!-- CSS Diagram -->
                        <div class="branch-viz">
                            <!-- Main Line -->
                            <div class="track gh-main"></div>
                            <div class="label-tag bg-indigo-600" style="top:24px; left:2%;">Main</div>
                            <div class="node bg-indigo-600" style="top:35px; left:10%;"></div>
                            <div class="node bg-indigo-600" style="top:35px; left:90%;"></div>

                            <!-- Feature Line -->
                            <div class="track gh-feat"></div>
                            <div class="label-tag bg-slate-400" style="top:74px; left:20%;">Feature</div>
                            <div class="node bg-slate-400" style="top:85px; left:50%;"></div>
                        </div>

                        <p class="text-sm text-slate-600 mb-4 font-medium">ç‰¹å¾´: ã‚·ãƒ³ãƒ—ãƒ«ãƒ»æœ€é€Ÿ</p>
                        <p class="text-xs text-slate-500 leading-relaxed mb-4">
                            æœ¬ç•ªãƒ–ãƒ©ãƒ³ãƒã¯1æœ¬ã®ã¿ã€‚ãƒãƒ¼ã‚¸ã—ãŸç¬é–“ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã‚‹Webé–‹ç™ºã®ä¸»æµã€‚
                        </p>
                        <div class="bg-indigo-50 p-3 rounded text-xs text-indigo-900 font-bold">
                            ğŸ¯ ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ»Webã‚µãƒ¼ãƒ“ã‚¹
                        </div>
                    </div>
                </div>

                <!-- GitLab Flow -->
                <div class="bg-white rounded-xl shadow-lg border-t-8 border-sky-500 flex flex-col overflow-hidden">
                    <div class="p-6 flex-grow">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold text-sky-600">â‘¢ GitLab Flow</h3>
                            <span class="bg-sky-100 text-sky-800 text-xs font-bold px-2 py-1 rounded">ãƒãƒ©ãƒ³ã‚¹</span>
                        </div>

                        <!-- CSS Diagram -->
                        <div class="branch-viz">
                            <!-- Prod Line -->
                            <div class="track gl-prod"></div>
                            <div class="label-tag bg-red-500" style="top:4px; left:80%;">Prod</div>
                            <div class="node bg-red-500" style="top:15px; left:90%;"></div>

                            <!-- Pre-Prod Line -->
                            <div class="track gl-pre" style="width:70%;"></div>
                            <div class="label-tag bg-sky-500" style="top:44px; left:50%;">Pre-Prod</div>
                            
                            <!-- Main Line -->
                            <div class="track gl-main"></div>
                            <div class="label-tag bg-indigo-600" style="top:84px; left:2%;">Main</div>
                            <div class="node bg-indigo-600" style="top:95px; left:30%;"></div>
                        </div>

                        <p class="text-sm text-slate-600 mb-4 font-medium">ç‰¹å¾´: ç’°å¢ƒåˆ¥ãƒ»å®Ÿå‹™çš„</p>
                        <p class="text-xs text-slate-500 leading-relaxed mb-4">
                            GitHub Flowã«ã€Œæ¤œè¨¼ç’°å¢ƒã€ç­‰ã®ã‚¯ãƒƒã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã€‚ä¼æ¥­ã®å®Ÿå‹™ã«åˆã‚ã›ãŸãƒ¢ãƒ‡ãƒ«ã€‚
                        </p>
                        <div class="bg-sky-50 p-3 rounded text-xs text-sky-900 font-bold">
                            ğŸ¯ å—è¨—é–‹ç™ºãƒ»Sierãƒ»æ¥­å‹™ã‚·ã‚¹ãƒ†ãƒ 
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- 3. Decision Matrix -->
        <section class="bg-white rounded-2xl shadow-sm border border-slate-200 p-8">
            <h2 class="text-2xl font-bold text-slate-800 mb-6 border-l-8 border-indigo-500 pl-4">3. é¸ã³æ–¹ãƒãƒˆãƒªã‚¯ã‚¹</h2>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2">
                    <div id="decisionMatrix" class="w-full h-[400px] bg-slate-50 rounded-xl border border-slate-100"></div>
                </div>
                <div class="space-y-6 flex flex-col justify-center">
                    <div class="p-4 bg-indigo-50 rounded-lg border-l-4 border-indigo-500">
                        <h4 class="font-bold text-indigo-800">ã‚¹ãƒ”ãƒ¼ãƒ‰é‡è¦–</h4>
                        <p class="text-xs text-indigo-700 mt-1">æ¯æ—¥ãƒªãƒªãƒ¼ã‚¹ã—ãŸã„ãªã‚‰<br><strong>GitHub Flow</strong></p>
                    </div>
                    <div class="p-4 bg-sky-50 rounded-lg border-l-4 border-sky-500">
                        <h4 class="font-bold text-sky-800">ç¢ºèªé‡è¦–</h4>
                        <p class="text-xs text-sky-700 mt-1">å®¢å…ˆç¢ºèªãŒå¿…è¦ãªã‚‰<br><strong>GitLab Flow</strong></p>
                    </div>
                    <div class="p-4 bg-rose-50 rounded-lg border-l-4 border-rose-500">
                        <h4 class="font-bold text-rose-800">å“è³ªçµ¶å¯¾</h4>
                        <p class="text-xs text-rose-700 mt-1">ãƒã‚°ãŒè¨±ã•ã‚Œãªã„ãªã‚‰<br><strong>Git-flow</strong></p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 py-8 text-center text-sm">
        <p>Created based on "Git Branch Model Report"</p>
        <p class="mt-2 text-xs">Uses Chart.js & Plotly.js (Canvas/WebGL only)</p>
    </footer>

    <script>
        // --- 1. Radar Chart (Chart.js) ---
        // Helper to split long labels for tooltips
        function wrapLabel(str) {
            return str.match(/.{1,16}/g) || [str];
        }

        const ctxRadar = document.getElementById('radarChart').getContext('2d');
        new Chart(ctxRadar, {
            type: 'radar',
            data: {
                labels: ['å³æ ¼ã•/å®‰å…¨æ€§', 'è¤‡é›‘ã•', 'å­¦ç¿’ã‚³ã‚¹ãƒˆ', 'æŸ”è»Ÿæ€§', 'é–‹ç™ºã‚¹ãƒ”ãƒ¼ãƒ‰'],
                datasets: [
                    {
                        label: 'Git-flow',
                        data: [9, 10, 9, 3, 2],
                        backgroundColor: 'rgba(225, 29, 72, 0.2)', // Rose
                        borderColor: 'rgba(225, 29, 72, 1)',
                        pointBackgroundColor: 'rgba(225, 29, 72, 1)',
                    },
                    {
                        label: 'GitHub Flow',
                        data: [2, 2, 2, 9, 10],
                        backgroundColor: 'rgba(79, 70, 229, 0.2)', // Indigo
                        borderColor: 'rgba(79, 70, 229, 1)',
                        pointBackgroundColor: 'rgba(79, 70, 229, 1)',
                    },
                    {
                        label: 'GitLab Flow',
                        data: [6, 6, 5, 6, 7],
                        backgroundColor: 'rgba(14, 165, 233, 0.2)', // Sky
                        borderColor: 'rgba(14, 165, 233, 1)',
                        pointBackgroundColor: 'rgba(14, 165, 233, 1)',
                    }
                ]
            },
            options: {
                maintainAspectRatio: false,
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 10,
                        ticks: { display: false }, // Hide numbers for cleaner look
                        pointLabels: { font: { size: 11, family: "'Noto Sans JP', sans-serif" } }
                    }
                },
                plugins: {
                    legend: { position: 'bottom', labels: { boxWidth: 10 } },
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) return label.join(' ');
                                return label;
                            }
                        }
                    }
                }
            }
        });

        // --- 2. Decision Matrix (Plotly ScatterGL) ---
        const bubbleTrace = {
            x: [9, 2, 5], // X: Release Frequency (High = GitHub Flow)
            y: [2, 9, 6], // Y: Strictness (High = Git-flow)
            mode: 'markers+text',
            type: 'scattergl', // Use WebGL (NO SVG)
            text: ['GitHub Flow', 'Git-flow', 'GitLab Flow'],
            textposition: 'top center',
            textfont: { family: "'Noto Sans JP', sans-serif", size: 14, color: '#334155' },
            marker: {
                size: [60, 50, 55],
                color: ['#4f46e5', '#e11d48', '#0ea5e9'], // Indigo, Rose, Sky
                opacity: 0.8,
                line: { color: 'white', width: 2 }
            },
            hoverinfo: 'text'
        };

        const bubbleLayout = {
            title: { text: 'ãƒªãƒªãƒ¼ã‚¹é »åº¦ vs å³æ ¼ã• ãƒãƒˆãƒªã‚¯ã‚¹', font: { size: 18 } },
            xaxis: {
                title: 'â† ä½é »åº¦ã€€ã€€ãƒªãƒªãƒ¼ã‚¹é »åº¦ã€€ã€€é«˜é »åº¦ â†’',
                range: [0, 11],
                showgrid: true,
                zeroline: false
            },
            yaxis: {
                title: 'â† æŸ”è»Ÿã€€ã€€ã€€å“è³ªç®¡ç†ã®å³æ ¼ã•ã€€ã€€ã€€å³æ ¼ â†’',
                range: [0, 11],
                showgrid: true,
                zeroline: false
            },
            margin: { t: 50, b: 50, l: 60, r: 40 },
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            showlegend: false
        };

        Plotly.newPlot('decisionMatrix', [bubbleTrace], bubbleLayout, {responsive: true, displayModeBar: false});
    </script>
</body>
</html>
